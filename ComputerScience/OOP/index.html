
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="个人网站..." name="description"/>
<meta content="xestray" name="author"/>
<link href="https://xestray.cc/ComputerScience/OOP/" rel="canonical"/>
<link href="../DB/lec-13/" rel="prev"/>
<link href="../CV/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.21" name="generator"/>
<title>面向对象程序设计 - xestray's website</title>
<link href="../../assets/stylesheets/main.2a3383ac.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<style>:root{--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M288%2064a32%2032%200%201%200%200%2064%2032%2032%200%201%200%200-64m-96%2032c0-53%2043-96%2096-96s96%2043%2096%2096c0%2041.8-26.7%2077.4-64%2090.5v257.9c62.9-14.3%20110.2-69.7%20111.9-136.5L415.8%20322c-10%208.7-25.1%207.7-33.9-2.3s-7.7-25.1%202.3-33.9l64-56c9-7.9%2022.6-7.9%2031.6%200l64%2056c10%208.7%2011%2023.9%202.3%2033.9s-23.9%2011-33.9%202.3L496%20307.9C493.9%20421%20401.6%20512%20288%20512S82.1%20421%2080%20307.9l-16.2%2014.2c-10%208.7-25.1%207.7-33.9-2.3s-7.7-25.1%202.3-33.9l64-56c9-7.9%2022.6-7.9%2031.6%200l64%2056c10%208.7%2011%2023.9%202.3%2033.9s-23.9%2011-33.9%202.3L144.1%20308c1.8%2066.8%2049.1%20122.2%20111.9%20136.5V186.6c-37.3-13.2-64-48.7-64-90.5z%22/%3E%3C/svg%3E');--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22m368.5%2018.3-50.1%2050.1%20125.3%20125.3%2050.1-50.1c21.9-21.9%2021.9-57.3%200-79.2l-46.1-46.1c-21.9-21.9-57.3-21.9-79.2%200m-89.2%2078.9-.5.1-144.1%2043.2c-19.9%206-35.7%2021.2-42.3%2041L3.8%20445.8c-2.9%208.7-1.9%2018.2%202.5%2026l155.4-155.4c-1.1-4-1.6-8.1-1.6-12.4%200-26.5%2021.5-48%2048-48s48%2021.5%2048%2048-21.5%2048-48%2048c-4.3%200-8.5-.6-12.4-1.6L40.3%20505.7c7.8%204.4%2017.2%205.4%2026%202.5l264.3-88.6c19.7-6.6%2035-22.4%2041-42.3l43.2-144.1.1-.5L279.4%2097.2z%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M40%2048c-13.3%200-24%2010.7-24%2024v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24V72c0-13.3-10.7-24-24-24zm152%2016c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20160c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zm0%20160c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h288c17.7%200%2032-14.3%2032-32s-14.3-32-32-32zM16%20232v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24v-48c0-13.3-10.7-24-24-24H40c-13.3%200-24%2010.7-24%2024m24%20136c-13.3%200-24%2010.7-24%2024v48c0%2013.3%2010.7%2024%2024%2024h48c13.3%200%2024-10.7%2024-24v-48c0-13.3-10.7-24-24-24z%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20384%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M292.9%20384c7.3-22.3%2021.9-42.5%2038.4-59.9C364%20289.7%20384%20243.2%20384%20192%20384%2086%20298%200%20192%200S0%2086%200%20192c0%2051.2%2020%2097.7%2052.7%20132.1%2016.5%2017.4%2031.2%2037.6%2038.4%2059.9h201.7zm-4.9%2048H96v16c0%2044.2%2035.8%2080%2080%2080h32c44.2%200%2080-35.8%2080-80zM184%20112c-39.8%200-72%2032.2-72%2072%200%2013.3-10.7%2024-24%2024s-24-10.7-24-24c0-66.3%2053.7-120%20120-120%2013.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M434.8%2070.1c14.3%2010.4%2017.5%2030.4%207.1%2044.7l-256%20352c-5.5%207.6-14%2012.3-23.4%2013.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8%200-45.3s32.8-12.5%2045.3%200l101.5%20101.5%20234-321.7c10.4-14.3%2030.4-17.5%2044.7-7.1z%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%20512a256%20256%200%201%200%200-512%20256%20256%200%201%200%200%20512m0-336c-17.7%200-32%2014.3-32%2032%200%2013.3-10.7%2024-24%2024s-24-10.7-24-24c0-44.2%2035.8-80%2080-80s80%2035.8%2080%2080c0%2047.2-36%2067.2-56%2074.5v3.8c0%2013.3-10.7%2024-24%2024s-24-10.7-24-24v-8.1c0-20.5%2014.8-35.2%2030.1-40.2%206.4-2.1%2013.2-5.5%2018.2-10.3%204.3-4.2%207.7-10%207.7-19.6%200-17.7-14.3-32-32-32zm-32%20192a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M256%200c14.7%200%2028.2%208.1%2035.2%2021l216%20400c6.7%2012.4%206.4%2027.4-.8%2039.5S486.1%20480%20472%20480H40c-14.1%200-27.2-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9%2020.5-21%2035.2-21m0%20352a32%2032%200%201%200%200%2064%2032%2032%200%201%200%200-64m0-192c-18.2%200-32.7%2015.5-31.4%2033.7l7.4%20104c.9%2012.5%2011.4%2022.3%2023.9%2022.3%2012.6%200%2023-9.7%2023.9-22.3l7.4-104c1.3-18.2-13.1-33.7-31.4-33.7z%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M12%203c4.97%200%209%203.58%209%208s-6%2010-9%2010-9-5.58-9-10%204.03-8%209-8m-1.69%207.93C9.29%209.29%207.47%208.58%206.25%209.34s-1.38%202.71-.36%204.35c1.03%201.64%202.85%202.35%204.07%201.59%201.22-.78%201.37-2.71.35-4.35m3.38%200c-1.02%201.64-.87%203.57.35%204.35%201.22.76%203.04.05%204.07-1.59%201.02-1.64.86-3.59-.36-4.35s-3.04-.05-4.06%201.59M12%2017.75c-2%200-2.5-.75-2.5-.75%200%20.03.5%202%202.5%202s2.5-2%202.5-2-.5.75-2.5.75%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M296%2040c0-22.1-17.9-40-40-40s-40%2017.9-40%2040c0%2044.1-53.3%2066.1-84.5%2035-15.6-15.6-40.9-15.6-56.6%200s-15.6%2040.9%200%2056.6c31.2%2031.2%209.1%2084.5-35%2084.5-22.1%200-40%2017.9-40%2040s17.9%2040%2040%2040c44.1%200%2066.1%2053.3%2035%2084.5-15.6%2015.6-15.6%2040.9%200%2056.6s40.9%2015.6%2056.6%200c31.2-31.2%2084.5-9.1%2084.5%2035%200%2022.1%2017.9%2040%2040%2040s40-17.9%2040-40c0-44.1%2053.3-66.1%2084.5-35%2015.6%2015.6%2040.9%2015.6%2056.6%200s15.6-40.9%200-56.6c-31.2-31.2-9.1-84.5%2035-84.5%2022.1%200%2040-17.9%2040-40s-17.9-40-40-40c-44.1%200-66.1-53.3-35-84.5%2015.6-15.6%2015.6-40.9%200-56.6s-40.9-15.6-56.6%200c-31.2%2031.1-84.5%209.1-84.5-35M160%20224a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200m160%2032a32%2032%200%201%201%200%2064%2032%2032%200%201%201%200-64%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M352%200c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v64h-96c-53%200-96%2043-96%2096v224c0%2053%2043%2096%2096%2096h256c53%200%2096-43%2096-96V160c0-53-43-96-96-96h-96zM160%20368c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24m120%200c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24m120%200c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24M224%20176a48%2048%200%201%201%200%2096%2048%2048%200%201%201%200-96m144%2048a48%2048%200%201%201%2096%200%2048%2048%200%201%201-96%200m-304%200c0-17.7-14.3-32-32-32S0%20206.3%200%20224v96c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32zm544-32c-17.7%200-32%2014.3-32%2032v96c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32v-96c0-17.7-14.3-32-32-32%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M288%200H128c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032v151.5L7.5%20426.3C2.6%20435%200%20444.7%200%20454.7%200%20486.4%2025.6%20512%2057.3%20512h333.4c31.6%200%2057.3-25.6%2057.3-57.3%200-10-2.6-19.8-7.5-28.4L320%20215.5V64c17.7%200%2032-14.3%2032-32S337.7%200%20320%200zm-96%20215.5V64h64v151.5c0%2011.1%202.9%2022.1%208.4%2031.8L306%20320H142l41.6-72.7c5.5-9.7%208.4-20.6%208.4-31.8%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.1%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20d%3D%22M419.5%2096c-16.6%200-32.7%204.5-46.8%2012.7-15.8-16-34.2-29.4-54.5-39.5%2028.2-24%2064.1-37.2%20101.3-37.2C505.9%2032%20576%20102%20576%20188.5c0%2041.5-16.5%2081.3-45.8%20110.6l-71.1%2071.1C429.8%20399.5%20390%20416%20348.5%20416%20262.1%20416%20192%20346%20192%20259.5c0-1.5%200-3%20.1-4.5.5-17.7%2015.2-31.6%2032.9-31.1s31.6%2015.2%2031.1%2032.9v2.6c0%2051.1%2041.4%2092.5%2092.5%2092.5%2024.5%200%2048-9.7%2065.4-27.1l71.1-71.1c17.3-17.3%2027.1-40.9%2027.1-65.4%200-51.1-41.4-92.5-92.5-92.5zm-144.3%2077.3c-1.9-.8-3.8-1.9-5.5-3.1-12.6-6.5-27-10.2-42.1-10.2-24.5%200-48%209.7-65.4%2027.1l-71.1%2071.1C73.8%20275.5%2064%20299.1%2064%20323.6c0%2051.1%2041.4%2092.5%2092.5%2092.5%2016.5%200%2032.6-4.4%2046.7-12.6%2015.8%2016%2034.2%2029.4%2054.6%2039.5-28.2%2023.9-64%2037.2-101.3%2037.2C70.1%20480.2%200%20410.2%200%20323.7c0-41.5%2016.5-81.3%2045.8-110.6l71.1-71.1c29.3-29.3%2069.1-45.8%20110.6-45.8%2086.6%200%20156.5%2070.6%20156.5%20156.9v3.9c-.4%2017.7-15.1%2031.6-32.8%2031.2s-31.6-15.1-31.2-32.8v-2.3c0-33.7-18-63.3-44.8-79.6z%22/%3E%3C/svg%3E');}</style>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"LXGW WenKai Screen";--md-code-font:"JetBrains Mono"}</style>
<link href="../../css/print-site.css" rel="stylesheet"/>
<link href="../../css/print-site-material.css" rel="stylesheet"/>
<link href="../../css/toc_extra.css" rel="stylesheet"/>
<link href="../../css/timeline.css" rel="stylesheet"/>
<link href="https://fonts.font.im/css2?family=Noto+Serif+SC" rel="stylesheet"/>
<link href="https://fonts.font.im/css?family=Gloria+Hallelujah" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css" rel="stylesheet"/>
<link href="../../css/changelogs.css" rel="stylesheet"/>
<link href="../../css/newadmonitions.css" rel="stylesheet"/>
<link href="../../css/cards.css" rel="stylesheet"/>
<link href="../../css/card.css" rel="stylesheet"/>
<link href="../../css/custom.css" rel="stylesheet"/>
<link href="../../css/changelog_extra.css" rel="stylesheet"/>
<link href="../../css/counter.css" rel="stylesheet"/>
<link href="../../css/fold_toc.css" rel="stylesheet"/>
<link href="../../css/flink.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
<script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="light-blue" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#_1">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="xestray's website" class="md-header__button md-logo" data-md-component="logo" href="../.." title="xestray's website">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 7V5h2V4a2 2 0 0 1 2-2h6v7l2.5-1.5L18 9V2h1c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm4 4H5v2h2zm0-4V5H5v2zm0 12v-2H5v2z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            xestray's website
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              面向对象程序设计
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="太耀眼了" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="light-blue" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="太耀眼了">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
<input aria-label="要有光" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="1bdbe9b0" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="要有光">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 256 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/xestray/xestray.github.io/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    xestray
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
          
  
  
    
  
  Home

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../">
          
  
  
    
  
  Computer Science

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../MathematicsAndPhysics/MA/MA/">
          
  
  
    
  
  数理

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../others/WhatToDo/">
          
  
  
    
  
  Others

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="xestray's website" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="xestray's website">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 7V5h2V4a2 2 0 0 1 2-2h6v7l2.5-1.5L18 9V2h1c1.05 0 2 .95 2 2v16c0 1.05-.95 2-2 2H7c-1.05 0-2-.95-2-2v-1H3v-2h2v-4H3v-2h2V7zm4 4H5v2h2zm0-4V5H5v2zm0 12v-2H5v2z"></path></svg>
</a>
    xestray's website
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/xestray/xestray.github.io/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    xestray
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            Home
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../changelog/">
<span class="md-ellipsis">
    更新记录
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Computer Science
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../PL/">
<span class="md-ellipsis">
    编程语言
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            编程语言
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../PL/cpp/cpplearning/">
<span class="md-ellipsis">
    C++
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../ADS/">
<span class="md-ellipsis">
    高级数据结构与算法分析
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            高级数据结构与算法分析
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-1/">
<span class="md-ellipsis">
    AVL树与Splay树与摊还分析
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-2/">
<span class="md-ellipsis">
    红黑树与B+树
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-3/">
<span class="md-ellipsis">
    倒排文件索引
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-4/">
<span class="md-ellipsis">
    左倾堆与斜堆
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-5/">
<span class="md-ellipsis">
    二项堆
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-6/">
<span class="md-ellipsis">
    回溯法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-7/">
<span class="md-ellipsis">
    分治法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-8/">
<span class="md-ellipsis">
    动态规划
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-9/">
<span class="md-ellipsis">
    贪心算法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-10/">
<span class="md-ellipsis">
    NP完全性
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-11/">
<span class="md-ellipsis">
    近似算法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-12/">
<span class="md-ellipsis">
    局部搜索
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-13/">
<span class="md-ellipsis">
    随机算法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-14/">
<span class="md-ellipsis">
    并行算法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ADS/lec-15/">
<span class="md-ellipsis">
    外部排序
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../COD/">
<span class="md-ellipsis">
    计算机组成与设计
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_4">
<span class="md-nav__icon md-icon"></span>
            计算机组成与设计
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../COD/chap-1/">
<span class="md-ellipsis">
    计算机概要与技术
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../COD/chap-2/">
<span class="md-ellipsis">
    指令：计算机的语言
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../COD/chap-3/">
<span class="md-ellipsis">
    计算机的算数运算
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../COD/chap-4/">
<span class="md-ellipsis">
    处理器
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../COD/chap-5/">
<span class="md-ellipsis">
    内存层次架构
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../COD/chap-6/">
<span class="md-ellipsis">
    储存和 IO
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../CA/">
<span class="md-ellipsis">
    计算机体系结构
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_5">
<span class="md-nav__icon md-icon"></span>
            计算机体系结构
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../CA/chap-1/">
<span class="md-ellipsis">
    计算机设计基础
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CA/chap-2/">
<span class="md-ellipsis">
    流水线
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CA/chap-3/">
<span class="md-ellipsis">
    内存层次
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CA/chap-4/">
<span class="md-ellipsis">
    指令级并行
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CA/chap-5/">
<span class="md-ellipsis">
    DLP 和 TLP
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../DB/">
<span class="md-ellipsis">
    数据库系统
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_6">
<span class="md-nav__icon md-icon"></span>
            数据库系统
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-1/">
<span class="md-ellipsis">
    数据库介绍
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-2/">
<span class="md-ellipsis">
    关系模型
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-3/">
<span class="md-ellipsis">
    SQL
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-4/">
<span class="md-ellipsis">
    SQL 进阶
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-5/">
<span class="md-ellipsis">
    E-R 模型
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-6/">
<span class="md-ellipsis">
    关系数据库设计
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-7/">
<span class="md-ellipsis">
    存储与文件结构
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-8/">
<span class="md-ellipsis">
    索引与哈希
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-9/">
<span class="md-ellipsis">
    查询处理
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-10/">
<span class="md-ellipsis">
    查询优化
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-11/">
<span class="md-ellipsis">
    事务管理
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-12/">
<span class="md-ellipsis">
    并发控制
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DB/lec-13/">
<span class="md-ellipsis">
    数据库恢复
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    面向对象程序设计
    
  </span>
</a>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_7">
<span class="md-nav__icon md-icon"></span>
            面向对象程序设计
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../CV/">
<span class="md-ellipsis">
    计算机视觉
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_8">
<span class="md-nav__icon md-icon"></span>
            计算机视觉
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../CV/lec1/">
<span class="md-ellipsis">
    二值图像
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CV/lec2/">
<span class="md-ellipsis">
    边缘检测
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CV/lec3/">
<span class="md-ellipsis">
    轮廓拟合
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CV/lec4/">
<span class="md-ellipsis">
    图像特征
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CV/lec5/">
<span class="md-ellipsis">
    特征人脸
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CV/lec6/">
<span class="md-ellipsis">
    单目视觉
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CV/lec7/">
<span class="md-ellipsis">
    运动估计 &amp; 图像分割
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CV/lec8/">
<span class="md-ellipsis">
    图像分类 &amp; CNN
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_9" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../IDV/">
<span class="md-ellipsis">
    数据可视化导论
    
  </span>
</a>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_9_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_9">
<span class="md-nav__icon md-icon"></span>
            数据可视化导论
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_10" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../NA/">
<span class="md-ellipsis">
    数值分析
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_10_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_10">
<span class="md-nav__icon md-icon"></span>
            数值分析
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../NA/lec-1/">
<span class="md-ellipsis">
    数学基础
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NA/lec-2/">
<span class="md-ellipsis">
    单变量方程的解
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../NA/lec-3/">
<span class="md-ellipsis">
    解线性系统的直接方法
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_11" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../OS/">
<span class="md-ellipsis">
    操作系统
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_11_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_11">
<span class="md-nav__icon md-icon"></span>
            操作系统
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../OS/chap01/">
<span class="md-ellipsis">
    引言
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../OS/chap02/">
<span class="md-ellipsis">
    OS 结构
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../OS/chap03/">
<span class="md-ellipsis">
    进程
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../OS/chap04/">
<span class="md-ellipsis">
    线程
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_12" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../CN/">
<span class="md-ellipsis">
    计算机网络
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_12" id="__nav_2_12_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_12_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_12">
<span class="md-nav__icon md-icon"></span>
            计算机网络
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../CN/chap-1/">
<span class="md-ellipsis">
    计算机网络概述
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CN/chap-2/">
<span class="md-ellipsis">
    物理层
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CN/chap-3/">
<span class="md-ellipsis">
    数据链路层
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_13" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../selfstudy/">
<span class="md-ellipsis">
    自学课程
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_13" id="__nav_2_13_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_13_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_13">
<span class="md-nav__icon md-icon"></span>
            自学课程
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/CS106L/cs106l/">
<span class="md-ellipsis">
    CS106L
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_13_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../selfstudy/EECS498/">
<span class="md-ellipsis">
    EECS498
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_13_3" id="__nav_2_13_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_13_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_13_3">
<span class="md-nav__icon md-icon"></span>
            EECS498
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec1/">
<span class="md-ellipsis">
    Image Classification
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec2/">
<span class="md-ellipsis">
    Linear Classification
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec3/">
<span class="md-ellipsis">
    Regularization + Optimization
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec4/">
<span class="md-ellipsis">
    Neural Networks
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec5/">
<span class="md-ellipsis">
    Backpropagation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec6/">
<span class="md-ellipsis">
    Convolutional Neural Networks
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec7/">
<span class="md-ellipsis">
    CNN Architectures Ⅰ
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec8/">
<span class="md-ellipsis">
    Training Neural Networks Ⅰ
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec9/">
<span class="md-ellipsis">
    Training Neural Networks Ⅱ
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec10/">
<span class="md-ellipsis">
    CNN Architectures Ⅱ
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec11/">
<span class="md-ellipsis">
    Deep Learning Software
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec12/">
<span class="md-ellipsis">
    Object Detection
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec13/">
<span class="md-ellipsis">
    Image Segmentation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec14/">
<span class="md-ellipsis">
    Recurrent Networks
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec15/">
<span class="md-ellipsis">
    Attention
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec16/">
<span class="md-ellipsis">
    Generative Models Ⅰ
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec17/">
<span class="md-ellipsis">
    Generative Models Ⅱ
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec18/">
<span class="md-ellipsis">
    Visualizing Models and Generating Images
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec19/">
<span class="md-ellipsis">
    3D vision
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../selfstudy/EECS498/lec20/">
<span class="md-ellipsis">
    Videos
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_14" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../Misc/">
<span class="md-ellipsis">
    杂项
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_14" id="__nav_2_14_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_14_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_14">
<span class="md-nav__icon md-icon"></span>
            杂项
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Misc/makefile/">
<span class="md-ellipsis">
    Makefile
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Misc/cmake/">
<span class="md-ellipsis">
    CMake
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_14_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../Misc/TMS/">
<span class="md-ellipsis">
    The Missing Semester
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_14_4" id="__nav_2_14_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_14_4_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_14_4">
<span class="md-nav__icon md-icon"></span>
            The Missing Semester
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../Misc/TMS/shell/">
<span class="md-ellipsis">
    Shell
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Misc/TMS/vim/">
<span class="md-ellipsis">
    Vim
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Misc/TMS/data-wrangling/">
<span class="md-ellipsis">
    数据整理
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_14_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../CTF/">
<span class="md-ellipsis">
    CTF
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_14_5" id="__nav_2_14_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_14_5_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_14_5">
<span class="md-nav__icon md-icon"></span>
            CTF
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_14_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_14_5_2" id="__nav_2_14_5_2_label" tabindex="0">
<span class="md-ellipsis">
    基础周
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_14_5_2_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_2_14_5_2">
<span class="md-nav__icon md-icon"></span>
            基础周
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../CTF/fundament/lec1-Intro/">
<span class="md-ellipsis">
    lec1-Intro
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CTF/fundament/lec2-Web/">
<span class="md-ellipsis">
    lec2-Web
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CTF/fundament/lec3-Misc/">
<span class="md-ellipsis">
    lec3-Misc
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CTF/fundament/lec4-Rev/">
<span class="md-ellipsis">
    lec4-Reverse
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CTF/fundament/lec5-Pwn/">
<span class="md-ellipsis">
    lec5-Pwn
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CTF/fundament/lec6-Crypto/">
<span class="md-ellipsis">
    lec6-Crypto
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_14_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_14_5_3" id="__nav_2_14_5_3_label" tabindex="0">
<span class="md-ellipsis">
    专题周
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_14_5_3_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_2_14_5_3">
<span class="md-nav__icon md-icon"></span>
            专题周
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_14_5_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_14_5_3_1" id="__nav_2_14_5_3_1_label" tabindex="0">
<span class="md-ellipsis">
    Web
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_14_5_3_1_label" class="md-nav" data-md-level="5">
<label class="md-nav__title" for="__nav_2_14_5_3_1">
<span class="md-nav__icon md-icon"></span>
            Web
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../CTF/Web/Web-1/">
<span class="md-ellipsis">
    Web-1
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_14_5_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_14_5_3_2" id="__nav_2_14_5_3_2_label" tabindex="0">
<span class="md-ellipsis">
    Misc
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_14_5_3_2_label" class="md-nav" data-md-level="5">
<label class="md-nav__title" for="__nav_2_14_5_3_2">
<span class="md-nav__icon md-icon"></span>
            Misc
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../CTF/Misc/Misc-1/">
<span class="md-ellipsis">
    Misc-1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../CTF/Misc/Misc-2/">
<span class="md-ellipsis">
    Misc-2
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_14_6" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../datamarket/">
<span class="md-ellipsis">
    数据要素交易基础
    
  </span>
</a>
<label class="md-nav__link" for="__nav_2_14_6" id="__nav_2_14_6_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_14_6_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_2_14_6">
<span class="md-nav__icon md-icon"></span>
            数据要素交易基础
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../datamarket/game-theory1/">
<span class="md-ellipsis">
    博弈论基础1
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datamarket/game-theory2/">
<span class="md-ellipsis">
    博弈论基础2
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datamarket/Shapley/">
<span class="md-ellipsis">
    沙普利值
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datamarket/mab/">
<span class="md-ellipsis">
    多臂老虎机算法
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datamarket/auction/">
<span class="md-ellipsis">
    拍卖与机制设计基础
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../datamarket/opt/">
<span class="md-ellipsis">
    最优机制
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    数理
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            数理
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/MA/MA/">
<span class="md-ellipsis">
    数学分析
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/LA/LA/">
<span class="md-ellipsis">
    线性代数
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Phy2/">
<span class="md-ellipsis">
    普通物理学Ⅱ
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            普通物理学Ⅱ
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Phy2/electrostatics/">
<span class="md-ellipsis">
    电学
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Phy2/magnetostatics/">
<span class="md-ellipsis">
    磁学
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Phy2/electrodynamics/">
<span class="md-ellipsis">
    电动力学
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Phy2/maxwell/">
<span class="md-ellipsis">
    麦克斯韦方程组与电磁波
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Phy2/geometrical_optics/">
<span class="md-ellipsis">
    几何光学
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Phy2/wave_optics/">
<span class="md-ellipsis">
    波动光学
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Phy2/quantum/">
<span class="md-ellipsis">
    量子力学
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Probability/">
<span class="md-ellipsis">
    概率论
    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_4_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_4">
<span class="md-nav__icon md-icon"></span>
            概率论
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Probability/chap-1/">
<span class="md-ellipsis">
    事件及其概率
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Probability/chap-2/">
<span class="md-ellipsis">
    随机变量与分布函数
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Probability/chap-3/">
<span class="md-ellipsis">
    数字特征与特征函数
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../MathematicsAndPhysics/Probability/chap-4/">
<span class="md-ellipsis">
    极限定理
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    Others
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            Others
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../others/WhatToDo/">
<span class="md-ellipsis">
    干点啥
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
<span class="md-ellipsis">
      关于变量
    </span>
</a>
<nav aria-label="关于变量" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
<span class="md-ellipsis">
      引用
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
<span class="md-ellipsis">
      动态内存分配
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
<span class="md-ellipsis">
      关于容器
    </span>
</a>
<nav aria-label="关于容器" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#vector">
<span class="md-ellipsis">
      vector
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#list">
<span class="md-ellipsis">
      list
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
<span class="md-ellipsis">
      关于函数
    </span>
</a>
<nav aria-label="关于函数" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#inline">
<span class="md-ellipsis">
      inline 函数
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_7">
<span class="md-ellipsis">
      关于类
    </span>
</a>
<nav aria-label="关于类" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_8">
<span class="md-ellipsis">
      构造函数
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_9">
<span class="md-ellipsis">
      析构函数
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_10">
<span class="md-ellipsis">
      静态成员变量/函数
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_11">
<span class="md-ellipsis">
      常量成员变量/函数
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_12">
<span class="md-ellipsis">
      继承
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_13">
<span class="md-ellipsis">
      多态
    </span>
</a>
<nav aria-label="多态" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_14">
<span class="md-ellipsis">
      虚函数
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_15">
<span class="md-ellipsis">
      静态/动态绑定
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_16">
<span class="md-ellipsis">
      友元
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_17">
<span class="md-ellipsis">
      关于重载
    </span>
</a>
<nav aria-label="关于重载" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_18">
<span class="md-ellipsis">
      函数重载
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_19">
<span class="md-ellipsis">
      运算符重载
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_20">
<span class="md-ellipsis">
      其他
    </span>
</a>
<nav aria-label="其他" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_21">
<span class="md-ellipsis">
      模板
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_22">
<span class="md-ellipsis">
      异常
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_23">
<span class="md-ellipsis">
      流
    </span>
</a>
<nav aria-label="流" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ostream">
<span class="md-ellipsis">
      ostream
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ostream_1">
<span class="md-ellipsis">
      ostream
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#manipulators">
<span class="md-ellipsis">
      manipulators
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_24">
<span class="md-ellipsis">
      流状态
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_25">
<span class="md-ellipsis">
      文件流
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cast">
<span class="md-ellipsis">
      cast
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="_1">面向对象程序设计<a class="headerlink" href="#_1" title="Permanent link">¶</a></h1>
<div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;">
<p><span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8zm6.78 1a.7.7 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38z"></path></svg></span> 约 5445 个字 <span class="twemoji"><svg viewbox="0 0 576 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M360.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m64.6 136.1c-12.5 12.5-12.5 32.8 0 45.3l73.4 73.4-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l96-96c12.5-12.5 12.5-32.8 0-45.3l-96-96c-12.5-12.5-32.8-12.5-45.3 0zm-274.7 0c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-12.5 12.5-12.5 32.8 0 45.3l96 96c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l73.3-73.4c12.5-12.5 12.5-32.8 0-45.3z"></path></svg></span> 293 行代码 <span class="twemoji"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3z"></path></svg></span> 预计阅读时间 25 分钟</p>
</div>
<div class="admonition abstract">
<p class="admonition-title">Abstract</p>
<p>“面向对象程序设计”课程相关笔记</p>
<ul>
<li>教材：无</li>
<li>老师：许威威</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>出于各种原因，笔者不太适应许威威老师的上课方式，本课程笔记主要来自于翁恺老师和陈翔老师的智云录播</li>
<li>这里只记录一些个人认为比较需要注意或是很琐碎容易忘记的知识点，关于更详细的学习笔记可以参考我的 <a href="../PL/">C++ 学习笔记</a></li>
<li>关于 C++ 和 OOP 的内容，已经有很多学长记录了笔记更丰富更有水平的笔记，感兴趣的同学也可以参考他们的笔记</li>
</ul>
</div>
<div class="admonition quote">
<p class="admonition-title">更多更好的参考笔记和资料</p>
<ul>
<li>图灵班课程学习指南：<a href="https://zju-turing.github.io/TuringCourses/major_basic/object_oriented_programming/">面向对象程序设计</a></li>
<li><a href="https://xuan-insr.github.io/cpp/cpp_restart/">咸鱼暄的各种 C++ 笔记</a></li>
<li><a href="https://www.yuque.com/isshikixiu/codes/wk_oop">Isshiki 修的 OOP 笔记</a></li>
<li><a href="https://www.zhihu.com/column/c_1561843704159232000">金鱼马老师的 C/C++ 沉思录</a></li>
<li><a href="https://tree.45gfg9.net/lcppthw/bootstrap/">箱子的 OOP 无痛指南（不知道是不是真的无痛）</a></li>
</ul>
</div>
<h2 id="_2">关于变量<a class="headerlink" href="#_2" title="Permanent link">¶</a></h2>
<h3 id="_3">引用<a class="headerlink" href="#_3" title="Permanent link">¶</a></h3>
<ul>
<li>引用本质上是一个现有变量的别名，对引用的任何操作都会直接作用于原变量</li>
<li>引用的内部实现就是指针，但外部的表现和普通的变量一样</li>
<li>
<p>引用必须在定义时初始化，且在声明之后不可再绑定到其他变量</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="n">Type</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">var1</span><span class="p">;</span><span class="w"> </span><span class="c1">// ref 是 var 的引用</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="n">ref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">var2</span><span class="p">;</span><span class="w">       </span><span class="c1">// var2 的值赋给 var1，不会使 ref 指向 var2</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>引用可以作为函数参数，按引用传递可以避免拷贝，提高效率</p>
<ul>
<li>
<p>不需要在函数中修改参数的值，可以使用 <code>const</code> 修饰参数，防止修改</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">&amp;</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// error</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
</li>
<li>
<p>用一个引用来初始化另一个引用实际上是让两个引用指向同一个变量</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kt">int</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w"> </span><span class="c1">// b 是 a 的引用</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="kt">int</span><span class="w"> </span><span class="o">&amp;</span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"> </span><span class="c1">// c 也是 a 的引用</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>存在 <code>int*&amp;</code>（对指针的引用），但不存在 <code>int&amp;*</code>（指向引用的指针）</p>
</li>
</ul>
<h3 id="_4">动态内存分配<a class="headerlink" href="#_4" title="Permanent link">¶</a></h3>
<ul>
<li>
<p><code>new</code>：在堆上分配内存，返回指向该内存的指针</p>
<ul>
<li><code>T* p = new T[n]</code> 先分配 n 个 T 类型的内存，然后创建 n 个 T 类型的对象（会调用构造函数），返回指向第一个对象的指针赋给 p</li>
</ul>
</li>
<li>
<p><code>delete p</code>：释放 p 指向的内存</p>
<ul>
<li>不会使 p 变为 nullptr，如果在 delete 之后再进行一次 delete，会导致未定义行为</li>
</ul>
</li>
<li>
<p><code>delete[] p</code>：释放 p 指向的数组内存</p>
<ul>
<li>new 一个数组的时候会记录数组的大小，delete[] 会根据这个大小释放内存</li>
<li>释放数组时，必须使用 <code>delete[]</code>，否则只会释放第一个元素的内存，其他元素的内存不会被释放</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><code>new</code> 和 <code>new[]</code> 会调用对象的构造函数</li>
<li><code>delete</code> 和 <code>delete[]</code> 会调用对象的析构函数</li>
</ul>
</div>
<h2 id="_5">关于容器<a class="headerlink" href="#_5" title="Permanent link">¶</a></h2>
<p>在 C++ 中，容器都在 STL（Standard Template Library）中，STL 是 C++ 标准库的一部分，提供了一系列的容器、算法和函数对象。</p>
<h3 id="vector">vector<a class="headerlink" href="#vector" title="Permanent link">¶</a></h3>
<p>Constructor </p>
<ul>
<li><code>vector&lt;T&gt; v</code>：创建一个空的 vector，元素类型为 T</li>
<li><code>vector&lt;T&gt; v(n)</code>：创建一个大小为 n 的 vector，元素类型为 T</li>
<li><code>vector&lt;T&gt; v(n, x)</code>：创建一个大小为 n 的 vector，元素类型为 T，每个元素的值都是 x</li>
<li><code>vector&lt;T&gt; v(v2)</code>：创建一个 vector，内容和 v2 一样（对元素而言是浅拷贝）</li>
</ul>
<p>Simple Methods</p>
<ul>
<li><code>v.size()</code>：返回 vector 中元素的个数</li>
<li><code>v.capacity()</code>：返回 vector 中能容纳的元素的个数</li>
<li><code>v.empty()</code>：判断 vector 是否为空</li>
<li><code>==, !=, &lt;, &lt;=, &gt;, &gt;=</code>：比较两个 vector 是否相等</li>
<li><code>v.swap(v2)</code>：交换两个 vector 的内容</li>
</ul>
<p>Add / Remove / Find Elements</p>
<ul>
<li><code>v.clear()</code>：清空 vector 中的元素</li>
<li><code>v.push_back(x)</code>：在 vector 的末尾添加一个元素 x</li>
<li><code>v.pop_back()</code>：删除 vector 的最后一个元素</li>
<li><code>v.insert(pos, x)</code>：在 vector 的第 pos 个位置插入一个元素 x，之后的元素都后移，返回指向新元素的迭代器</li>
<li><code>v.erase(pos)</code>：删除 vector 中第 pos 个元素，之后的元素都前移，返回指向下一个元素的迭代器</li>
<li><code>v.erase(first, last)</code>：删除 vector 中 [first, last) 区间的元素，返回指向下一个元素的迭代器</li>
<li><code>v.find(x)</code>：在 vector 中查找元素 x，返回指向元素的迭代器，如果没有找到则返回 <code>v.end()</code></li>
</ul>
<h3 id="list">list<a class="headerlink" href="#list" title="Permanent link">¶</a></h3>
<p>是一个双向链表，支持快速的插入和删除操作，当我们需要在中间插入或删除元素时，list 是一个比较好的选择。</p>
<p>Constructor</p>
<ul>
<li><code>list&lt;T&gt; l</code>：创建一个空的 list，元素类型为 T</li>
<li><code>list&lt;T&gt; l(n)</code>：创建一个大小为 n 的 list，元素类型为 T</li>
<li><code>list&lt;T&gt; l(n, x)</code>：创建一个大小为 n 的 list，元素类型为 T，每个元素的值都是 x</li>
<li><code>list&lt;T&gt; l(l2)</code>：创建一个 list，内容和 l2 一样</li>
</ul>
<p>Simple Methods</p>
<ul>
<li><code>l.size()</code>：返回 list 中元素的个数（注意：list 没有 capacity）</li>
<li><code>l.empty()</code>：判断 list 是否为空</li>
<li><code>l.swap(l2)</code>：交换两个 list 的内容</li>
</ul>
<p>Add / Remove / Find Elements</p>
<ul>
<li><code>l.clear()</code>：清空 list 中的元素</li>
<li><code>l.push_back(x)</code>：在 list 的末尾添加一个元素 x</li>
<li><code>l.pop_back()</code>：删除 list 的最后一个元素</li>
<li><code>l.push_front(x)</code>：在 list 的开头添加一个元素 x</li>
<li><code>l.pop_front()</code>：删除 list 的第一个元素</li>
</ul>
<h2 id="_6">关于函数<a class="headerlink" href="#_6" title="Permanent link">¶</a></h2>
<h3 id="inline">inline 函数<a class="headerlink" href="#inline" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>类似于一个宏，编译器会在调用处直接展开函数体，而不是进行真正的函数调用</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span>
<span class="normal"><a href="#__codelineno-3-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="kr">inline</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="p">}</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="c1">// 编译器会将上面这行代码展开为 int a = 1 + 1;</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>inline 函数的定义也相当于声明，可以在头文件中定义。并且不会因为被多个文件引用而出现重复定义的错误</p>
</li>
<li>在类内部定义的成员函数默认是 inline 的</li>
</ul>
<h2 id="_7">关于类<a class="headerlink" href="#_7" title="Permanent link">¶</a></h2>
<ul>
<li>C++ 中 class 和 struct 的区别仅在于默认的访问权限不同，class 默认是 private，struct 默认是 public</li>
<li>直接在类的内部定义成员函数时，函数默认是 inline</li>
<li>访问权限有三种：<ul>
<li>public：可以被任何人访问</li>
<li>protected：可以在类的内部和子类中访问</li>
<li>private：只能在类的内部访问<ul>
<li>访问权限是以类为基准的，而不是以对象为基准的。也就是说某个类的对象可以访问同属于</li>
</ul>
</li>
</ul>
</li>
</ul>
<details class="example">
<summary>Example</summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span>
<span class="normal"><a href="#__codelineno-4-20">20</a></span>
<span class="normal"><a href="#__codelineno-4-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="k">private</span><span class="o">:</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">    </span><span class="n">A</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">x</span><span class="p">(</span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">copyFrom</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">A</span><span class="o">&amp;</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">        </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="c1">// 这里可以访问 other.x，即使 x 是 private</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">setX</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">print</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="p">};</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="w">    </span><span class="n">A</span><span class="w"> </span><span class="n">a1</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w"> </span><span class="n">a2</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="w">    </span><span class="n">a1</span><span class="p">.</span><span class="n">copyFrom</span><span class="p">(</span><span class="n">a2</span><span class="p">);</span><span class="w"> </span><span class="c1">// 在 a1 内部可以直接访问 a2 的 private 成员 x</span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="w">    </span><span class="n">a1</span><span class="p">.</span><span class="n">print</span><span class="p">();</span><span class="w"> </span><span class="c1">// 输出 20</span>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="w">    </span><span class="cm">/* 编译错误: 不可以在类外部直接访问 a2 的 private 成员 x */</span>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="w">    </span><span class="n">a1</span><span class="p">.</span><span class="n">setX</span><span class="p">(</span><span class="n">a2</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
<a id="__codelineno-4-20" name="__codelineno-4-20"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-4-21" name="__codelineno-4-21"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</details>
<h3 id="_8">构造函数<a class="headerlink" href="#_8" title="Permanent link">¶</a></h3>
<ul>
<li>默认构造函数（default constructor）：没有参数的构造函数</li>
<li>拷贝构造函数（copy constructor）：用一个对象初始化另一个对象<ul>
<li>声明为 <code>ClassName(const ClassName &amp;obj)</code>，通常是 <code>const</code> 引用</li>
<li>如果没有定义拷贝构造函数，编译器会自动生成一个默认的拷贝构造函数</li>
<li>发生拷贝构造时会调用，例如 <code>ClassName obj2 = obj1;</code>，在函数按值传递参数、按值返回时也会调用（暂时不考虑 copy elision）</li>
</ul>
</li>
<li>当我们没有定义构造函数时，编译器会自动生成一个默认构造函数；当我们定义了任意一个构造函数时，编译器就不会再生成默认构造函数，即使此时并不存在默认构造函数</li>
</ul>
<h3 id="_9">析构函数<a class="headerlink" href="#_9" title="Permanent link">¶</a></h3>
<ul>
<li>析构函数没有任何参数，也没有返回值</li>
<li>在对象被销毁（或超出作用域）时自动调用</li>
<li>用于释放对象占用的资源，例如释放动态分配的内存、关闭文件等</li>
<li>如果没有定义析构函数，编译器会自动生成一个默认的析构函数</li>
<li>涉及到继承时，析构函数应该是虚函数</li>
</ul>
<h3 id="_10">静态成员变量/函数<a class="headerlink" href="#_10" title="Permanent link">¶</a></h3>
<table>
<thead>
<tr>
<th>type</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>static free function</td>
<td>internal linkage(deprecated)</td>
</tr>
<tr>
<td>static global variables</td>
<td>internal linkage(deprecated)</td>
</tr>
<tr>
<td>static local variables</td>
<td>persistent storage</td>
</tr>
<tr>
<td>static member variables</td>
<td>shared by instances</td>
</tr>
<tr>
<td>static member functions</td>
<td>shared by instances, can only access static member</td>
</tr>
</tbody>
</table>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">        </span><span class="c1">// 可以访问静态成员变量</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Static member a: "</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">        </span><span class="c1">// 但是不能访问非静态成员变量</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="w">        </span><span class="c1">// std::cout &lt;&lt; "Non-static member b: " &lt;&lt; b &lt;&lt; std::endl; // error</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="p">};</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="kt">int</span><span class="w"> </span><span class="n">A</span><span class="o">::</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="n">A</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>静态成员变量从属于这一个类，而不是单独属于某个对象</li>
<li>静态成员变量被这个类的所有对象共享（只有一份内存），在程序开始运行时（即第一次使用该类之前）就被创建</li>
<li>上面的例子中 <code>A::a</code> 和 <code>obj.a</code> 访问的都是同一个变量</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>当我们想要初始化一个静态成员变量时，必须在类的外部进行初始化，不能在类的内部进行初始化，就像上面的这个例子一样。</p>
</div>
<ul>
<li>静态成员函数也是属于类的，而不是属于对象的，可以直接通过类名调用，也可以通过对象调用<ul>
<li>例如 <code>A::func()</code> 或 <code>obj.func()</code></li>
</ul>
</li>
<li>静态成员函数不能访问非静态成员变量，也不能调用非静态成员函数</li>
<li>静态成员函数不会隐式地包含 this 指针</li>
</ul>
<h3 id="_11">常量成员变量/函数<a class="headerlink" href="#_11" title="Permanent link">¶</a></h3>
<ul>
<li>常量成员变量必须在成员初始化列表中初始化，不能在构造函数中初始化（构造函数体开始执行时它已经是 const 的了）</li>
<li>
<p>常量成员函数不能修改成员变量，也不能调用非常量成员函数</p>
<ul>
<li>当一个函数不会修改对象的状态时，应该将其声明为常量成员函数（如 getter 函数）</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">m_a</span><span class="p">;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">getA</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 设为 const</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">m_a</span><span class="p">;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">setA</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 不能设为 const</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">        </span><span class="n">m_a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
<h3 id="_12">继承<a class="headerlink" href="#_12" title="Permanent link">¶</a></h3>
<ul>
<li>不添加标识符时，默认继承方式是 private</li>
<li>构造函数、析构函数、重载运算符、友元不会被继承</li>
<li>初始化的顺序为<ul>
<li>按照继承的顺序初始化基类（继承多个类时按照出现在冒号<code>:</code>后面的顺序）</li>
<li>根据声明顺序初始化成员变量</li>
<li>执行构造函数函数体</li>
</ul>
</li>
</ul>
<h3 id="_13">多态<a class="headerlink" href="#_13" title="Permanent link">¶</a></h3>
<ul>
<li>up-cast（造型，向上转型）：把一个派生类的对象视作一个基类的对象，这是安全的</li>
</ul>
<blockquote>
<p>It is to say: Students are human beings. You are students, so you are human being.</p>
</blockquote>
<pre class="mermaid"><code>graph BT
    A[Derived] --&gt; B[Base]
</code></pre>
<h4 id="_14">虚函数<a class="headerlink" href="#_14" title="Permanent link">¶</a></h4>
<ul>
<li>通过在函数返回值前加上 <code>virtual</code> 关键字来声明</li>
<li>
<p>一个类有虚函数时，这个类所占据的内存空间的第一部分将会是一个虚函数表（vtable），里面存放了指向该类虚函数的指针</p>
<ul>
<li>虚函数表是在编译时就确定的，每个类只有一个虚函数表，不会因为对象的不同而改变</li>
<li>虚函数表也会作为类的一部分占据内存空间，会增加内存开销</li>
</ul>
</li>
<li>
<p>虚函数被继承后无需使用 virtual 关键字也是虚函数，若想要覆盖基类虚函数的实现，可以使用 <code>override</code> 关键字</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Base</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">func</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Base::func()"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="p">};</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="k">class</span><span class="w"> </span><span class="nc">Derived</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Base</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">func</span><span class="p">()</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Derived::func()"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>如果一个类中存在没有被实现的虚函数（纯虚函数），则这个类是抽象类，不能被实例化</p>
<ul>
<li>抽象类需要被继承，并且子类必须实现这个纯虚函数才能实例化</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Base</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">func</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// = 0 表示纯虚函数</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>当我们使用继承时，必须要让析构函数成为 virtual 的</p>
<ul>
<li>否则</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">Base</span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Derived</span><span class="p">();</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="k">delete</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>将会调用 <code>Base::~Base()</code> 而不是 <code>Derived::~Derived()</code>，属于 Derived 的部分将不会被释放</p>
</li>
<li>
<p>构造函数不能是 virtual 的，因为此时对象还没有被构造，虚表也不存在</p>
<ul>
<li>假设构造函数是虚函数，那么调用构造函数就必须使用到虚表，但在这个对象被构造之前并不会占有内存空间，也就没有虚表，从而产生了矛盾</li>
</ul>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-10-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-10-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-10-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-10-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-10-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-10-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-10-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-10-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-10-10">10</a></span>
<span class="normal"><a href="#__codelineno-10-11">11</a></span>
<span class="normal"><a href="#__codelineno-10-12">12</a></span>
<span class="normal"><a href="#__codelineno-10-13">13</a></span>
<span class="normal"><a href="#__codelineno-10-14">14</a></span>
<span class="normal"><a href="#__codelineno-10-15">15</a></span>
<span class="normal"><a href="#__codelineno-10-16">16</a></span>
<span class="normal"><a href="#__codelineno-10-17">17</a></span>
<span class="normal"><a href="#__codelineno-10-18">18</a></span>
<span class="normal"><a href="#__codelineno-10-19">19</a></span>
<span class="normal"><a href="#__codelineno-10-20">20</a></span>
<span class="normal"><a href="#__codelineno-10-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w">    </span><span class="n">A</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">f</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"A::f()"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="p">};</span>
<a id="__codelineno-10-10" name="__codelineno-10-10"></a>
<a id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="k">class</span><span class="w"> </span><span class="nc">B</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-12" name="__codelineno-10-12"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="w">    </span><span class="n">B</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">f</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-10-14" name="__codelineno-10-14"></a><span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"B::f()"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-10-15" name="__codelineno-10-15"></a><span class="p">};</span>
<a id="__codelineno-10-16" name="__codelineno-10-16"></a>
<a id="__codelineno-10-17" name="__codelineno-10-17"></a>
<a id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-19" name="__codelineno-10-19"></a><span class="w">    </span><span class="n">B</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-10-20" name="__codelineno-10-20"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-10-21" name="__codelineno-10-21"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>创建一个 B 类对象时，会首先构造父类 A 的那一部分。</li>
<li>调用 A 的构造函数时，会调用虚函数 <code>f()</code>，此时虚表中存放的是 <code>A::f()</code>，所以会输出 <code>A::f()</code></li>
<li>然后调用 B 的构造函数，此时虚表被更新，存放的是 <code>B::f()</code>，所以会输出 <code>B::f()</code></li>
<li>所以输出结果是</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="n">A</span><span class="o">::</span><span class="n">f</span><span class="p">()</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="n">B</span><span class="o">::</span><span class="n">f</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
</div>
<h4 id="_15">静态/动态绑定<a class="headerlink" href="#_15" title="Permanent link">¶</a></h4>
<ul>
<li>
<p>静态绑定：编译时就能明确确定需要调用的函数</p>
<p>static / early binding: call the function as the code</p>
</li>
<li>
<p>动态绑定：在运行时根据对象的实际类型来调用相应的函数，而不是根据指针或引用的类型</p>
<p>dynamic / late bindin: call the function of the object</p>
<ul>
<li>出现多态，编译器并不知道具体调用的是哪个类的方法</li>
<li>在 C++ 中，只有通过指针/引用调用 virtual function 时才会发生动态绑定</li>
</ul>
</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="n">Base</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Derived</span><span class="p">();</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="n">p</span><span class="o">-&gt;</span><span class="n">func</span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="c1">// 是 virtual 时，调用 Derived::func()，否则调用 Base::func()</span>
</code></pre></div></td></tr></table></div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-13-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-13-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-13-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-13-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-13-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-13-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-13-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-13-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-13-10">10</a></span>
<span class="normal"><a href="#__codelineno-13-11">11</a></span>
<span class="normal"><a href="#__codelineno-13-12">12</a></span>
<span class="normal"><a href="#__codelineno-13-13">13</a></span>
<span class="normal"><a href="#__codelineno-13-14">14</a></span>
<span class="normal"><a href="#__codelineno-13-15">15</a></span>
<span class="normal"><a href="#__codelineno-13-16">16</a></span>
<span class="normal"><a href="#__codelineno-13-17">17</a></span>
<span class="normal"><a href="#__codelineno-13-18">18</a></span>
<span class="normal"><a href="#__codelineno-13-19">19</a></span>
<span class="normal"><a href="#__codelineno-13-20">20</a></span>
<span class="normal"><a href="#__codelineno-13-21">21</a></span>
<span class="normal"><a href="#__codelineno-13-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Shape</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Shape"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="p">};</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">Circle</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Shape</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Circle"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="p">};</span>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a>
<a id="__codelineno-13-11" name="__codelineno-13-11"></a><span class="kt">void</span><span class="w"> </span><span class="nf">render</span><span class="p">(</span><span class="n">Shape</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="w">    </span><span class="n">p</span><span class="o">-&gt;</span><span class="n">render</span><span class="p">();</span><span class="w"> </span><span class="c1">// p 是多态变量</span>
<a id="__codelineno-13-13" name="__codelineno-13-13"></a><span class="p">}</span>
<a id="__codelineno-13-14" name="__codelineno-13-14"></a>
<a id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-16" name="__codelineno-13-16"></a><span class="w">    </span><span class="n">Shape</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-13-17" name="__codelineno-13-17"></a><span class="w">    </span><span class="n">Circle</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<a id="__codelineno-13-18" name="__codelineno-13-18"></a><span class="w">    </span><span class="n">s</span><span class="p">.</span><span class="n">render</span><span class="p">();</span>
<a id="__codelineno-13-19" name="__codelineno-13-19"></a><span class="w">    </span><span class="n">c</span><span class="p">.</span><span class="n">render</span><span class="p">();</span>
<a id="__codelineno-13-20" name="__codelineno-13-20"></a><span class="w">    </span><span class="n">render</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">);</span>
<a id="__codelineno-13-21" name="__codelineno-13-21"></a><span class="w">    </span><span class="n">render</span><span class="p">(</span><span class="o">&amp;</span><span class="n">c</span><span class="p">);</span>
<a id="__codelineno-13-22" name="__codelineno-13-22"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>上面这段代码的输出是</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1">1</a></span>
<span class="normal"><a href="#__codelineno-14-2">2</a></span>
<span class="normal"><a href="#__codelineno-14-3">3</a></span>
<span class="normal"><a href="#__codelineno-14-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a>Shape   // 静态绑定
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>Circle  // 静态绑定
<a id="__codelineno-14-3" name="__codelineno-14-3"></a>Shape   // 静态绑定
<a id="__codelineno-14-4" name="__codelineno-14-4"></a>Shape   // 静态绑定
</code></pre></div></td></tr></table></div>
<p>因为在 <code>render</code> 函数中，<code>p</code> 的类型是 <code>Shape*</code>，并且 <code>Shape</code> 的 <code>render</code> 函数不是虚函数，所以编译器在编译时就确定了会调用 <code>Shape::render()</code>，因此后两次调用都会输出 <code>Shape</code>。</p>
<p>若把这两个类的 <code>render</code> 函数声明为 <code>virtual</code>，则后两次调用 render 函数将会发生动态绑定</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span>
<span class="normal"><a href="#__codelineno-15-6">6</a></span>
<span class="normal"><a href="#__codelineno-15-7">7</a></span>
<span class="normal"><a href="#__codelineno-15-8">8</a></span>
<span class="normal"><a href="#__codelineno-15-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Shape</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Shape"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="p">};</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a>
<a id="__codelineno-15-6" name="__codelineno-15-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">Circle</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Shape</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">render</span><span class="p">()</span><span class="w"> </span><span class="k">override</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Circle"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-15-9" name="__codelineno-15-9"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div>
<p>输出结果变为</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a>Shape   // 静态绑定
<a id="__codelineno-16-2" name="__codelineno-16-2"></a>Circle  // 静态绑定
<a id="__codelineno-16-3" name="__codelineno-16-3"></a>Shape   // 动态绑定
<a id="__codelineno-16-4" name="__codelineno-16-4"></a>Circle  // 动态绑定
</code></pre></div></td></tr></table></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>在成员函数内部调用一个 virtual 函数，也有可能发生动态绑定</p>
<ul>
<li>因为调用另一个成员函数实际上是通过指针 this 做到的</li>
</ul>
</div>
<h3 id="_16">友元<a class="headerlink" href="#_16" title="Permanent link">¶</a></h3>
<ul>
<li>使用 <code>friend</code> 关键字声明友元函数或友元类</li>
<li>友元函数 / 友元类可以访问类的私有成员</li>
<li>友元关系不能被继承，即基类的友元函数不能访问派生类的私有成员；同理，派生类的友元函数也不能访问基类的私有成员</li>
<li>类之间的关系不具有对称性和传递性：<ul>
<li>不具有对称性：如果 A 是 B 的友元，那么 B 不一定是 A 的友元<ul>
<li>A 可以访问 B 的私有成员，但 B 不能访问 A 的私有成员</li>
</ul>
</li>
<li>不具有传递性：如果 A 是 B 的友元，B 是 C 的友元，那么 A 不一定是 C 的友元<ul>
<li>A 可以访问 B 的私有成员，B 可以访问 C 的私有成员，但 A 不能直接访问 C 的私有成员</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="_17">关于重载<a class="headerlink" href="#_17" title="Permanent link">¶</a></h2>
<h3 id="_18">函数重载<a class="headerlink" href="#_18" title="Permanent link">¶</a></h3>
<ul>
<li>具有相同函数名，但参数列表不同的函数（即函数签名不同）</li>
<li>返回值不同不能作为重载的条件</li>
<li>
<p>重载函数在类中可以有不同的访问权限，但不能只有访问权限不同</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span>
<span class="normal"><a href="#__codelineno-17-5">5</a></span>
<span class="normal"><a href="#__codelineno-17-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"public"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="k">private</span><span class="o">:</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"private"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>调用重载函数时，编译器会根据参数列表选择合适的函数，但也有可能出现模糊重载解析的情况</p>
</li>
</ul>
<h3 id="_19">运算符重载<a class="headerlink" href="#_19" title="Permanent link">¶</a></h3>
<ul>
<li>只能重载 C++ 已有的运算符，不能新建运算符</li>
<li>不会改变运算符的优先级和结合性</li>
<li>不可改变运算符的操作数个数</li>
<li>重载运算符至少有一个操作数是用户定义的类型（class 或 enum）</li>
<li>
<p>可以重载的运算符</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span>
<span class="normal"><a href="#__codelineno-18-4">4</a></span>
<span class="normal"><a href="#__codelineno-18-5">5</a></span>
<span class="normal"><a href="#__codelineno-18-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">~</span><span class="w">                 </span><span class="c1">// 加减乘除、取模、按位运算</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="o">=</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="o">%=</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="o">|=</span><span class="w"> </span><span class="o">&lt;&lt;=</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="c1">// 赋值运算</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="o">==</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="o">&gt;=</span><span class="w">                   </span><span class="c1">// 关系运算</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="o">!</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="o">--</span><span class="w">                     </span><span class="c1">// 逻辑运算、自增自减</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="p">[]</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">-&gt;*</span><span class="w">                      </span><span class="c1">// 下标、函数调用、成员访问</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="k">new</span><span class="w"> </span><span class="k">delete</span><span class="w"> </span><span class="k">new</span><span class="p">[]</span><span class="w"> </span><span class="k">delete</span><span class="p">[]</span><span class="w">         </span><span class="c1">// 内存分配、释放</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>不可重载的运算符</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="k">typeid</span><span class="w">          </span><span class="c1">// 成员访问、作用域解析、条件运算、大小、类型信息</span>
<a id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="k">static_cast</span><span class="w"> </span><span class="k">dynamic_cast</span><span class="w"> </span><span class="k">const_cast</span><span class="w"> </span><span class="k">reinterpret_cast</span><span class="w"> </span><span class="c1">// 四种类型转换</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
<details class="info">
<summary>关于 <code>-&gt;</code> <code>-&gt;*</code> <code>.</code> <code>.*</code> 运算符</summary>
<ul>
<li><code>p1-&gt;x</code> 与 <code>(*p1).x</code> 等价<ul>
<li><code>p1</code> 是一个指向类的指针，<code>x</code> 是类的一个成员变量/函数</li>
</ul>
</li>
<li><code>p1-&gt;*p2</code> 与 <code>(*p1).*p2</code> 等价<ul>
<li><code>p1</code> 是一个指向类的指针，<code>p2</code> 是一个指向类成员变量/函数的指针</li>
</ul>
</li>
</ul>
<ol>
<li>
<p><code>-&gt;</code> 运算符通常用于智能指针等类，让对象像指针一样访问成员。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-20-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-20-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-20-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-20-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-20-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-20-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-20-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-20-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-20-10">10</a></span>
<span class="normal"><a href="#__codelineno-20-11">11</a></span>
<span class="normal"><a href="#__codelineno-20-12">12</a></span>
<span class="normal"><a href="#__codelineno-20-13">13</a></span>
<span class="normal"><a href="#__codelineno-20-14">14</a></span>
<span class="normal"><a href="#__codelineno-20-15">15</a></span>
<span class="normal"><a href="#__codelineno-20-16">16</a></span>
<span class="normal"><a href="#__codelineno-20-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Data</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">hello</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Hello</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="p">};</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a><span class="k">class</span><span class="w"> </span><span class="nc">SmartPtr</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a><span class="w">    </span><span class="n">Data</span><span class="o">*</span><span class="w"> </span><span class="n">ptr</span><span class="p">;</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a><span class="w">    </span><span class="n">SmartPtr</span><span class="p">(</span><span class="n">Data</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ptr</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-20-9" name="__codelineno-20-9"></a><span class="w">    </span><span class="n">Data</span><span class="o">*</span><span class="w"> </span><span class="k">operator</span><span class="o">-&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ptr</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-20-10" name="__codelineno-20-10"></a><span class="p">};</span>
<a id="__codelineno-20-11" name="__codelineno-20-11"></a>
<a id="__codelineno-20-12" name="__codelineno-20-12"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-13" name="__codelineno-20-13"></a><span class="w">    </span><span class="n">Data</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<a id="__codelineno-20-14" name="__codelineno-20-14"></a><span class="w">    </span><span class="n">SmartPtr</span><span class="w"> </span><span class="n">sp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">d</span><span class="p">);</span>
<a id="__codelineno-20-15" name="__codelineno-20-15"></a><span class="w">    </span><span class="n">sp</span><span class="o">-&gt;</span><span class="n">hello</span><span class="p">();</span><span class="w"> </span><span class="c1">// 实际等价于 sp.operator-&gt;()-&gt;hello();</span>
<a id="__codelineno-20-16" name="__codelineno-20-16"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-20-17" name="__codelineno-20-17"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><code>-&gt;*</code> 运算符用于“指向成员的指针”，可以被重载，但很少见。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-21-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-21-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-21-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-21-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-21-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-21-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-21-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-21-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-21-10">10</a></span>
<span class="normal"><a href="#__codelineno-21-11">11</a></span>
<span class="normal"><a href="#__codelineno-21-12">12</a></span>
<span class="normal"><a href="#__codelineno-21-13">13</a></span>
<span class="normal"><a href="#__codelineno-21-14">14</a></span>
<span class="normal"><a href="#__codelineno-21-15">15</a></span>
<span class="normal"><a href="#__codelineno-21-16">16</a></span>
<span class="normal"><a href="#__codelineno-21-17">17</a></span>
<span class="normal"><a href="#__codelineno-21-18">18</a></span>
<span class="normal"><a href="#__codelineno-21-19">19</a></span>
<span class="normal"><a href="#__codelineno-21-20">20</a></span>
<span class="normal"><a href="#__codelineno-21-21">21</a></span>
<span class="normal"><a href="#__codelineno-21-22">22</a></span>
<span class="normal"><a href="#__codelineno-21-23">23</a></span>
<span class="normal"><a href="#__codelineno-21-24">24</a></span>
<span class="normal"><a href="#__codelineno-21-25">25</a></span>
<span class="normal"><a href="#__codelineno-21-26">26</a></span>
<span class="normal"><a href="#__codelineno-21-27">27</a></span>
<span class="normal"><a href="#__codelineno-21-28">28</a></span>
<span class="normal"><a href="#__codelineno-21-29">29</a></span>
<span class="normal"><a href="#__codelineno-21-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Data</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">hello</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Hello</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="p">};</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="k">class</span><span class="w"> </span><span class="nc">Wrapper</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="w">    </span><span class="n">Data</span><span class="o">*</span><span class="w"> </span><span class="n">ptr</span><span class="p">;</span>
<a id="__codelineno-21-7" name="__codelineno-21-7"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-21-8" name="__codelineno-21-8"></a><span class="w">    </span><span class="n">Wrapper</span><span class="p">(</span><span class="n">Data</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ptr</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-21-9" name="__codelineno-21-9"></a><span class="w">    </span><span class="n">Data</span><span class="o">*</span><span class="w"> </span><span class="k">operator</span><span class="o">-&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ptr</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-10" name="__codelineno-21-10"></a><span class="w">    </span><span class="c1">// 重载 -&gt;* 运算符</span>
<a id="__codelineno-21-11" name="__codelineno-21-11"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="o">-&gt;*</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="n">Data</span><span class="o">::*</span><span class="n">func</span><span class="p">)())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-12" name="__codelineno-21-12"></a><span class="w">        </span><span class="p">(</span><span class="n">ptr</span><span class="o">-&gt;*</span><span class="n">func</span><span class="p">)();</span>
<a id="__codelineno-21-13" name="__codelineno-21-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-21-14" name="__codelineno-21-14"></a><span class="p">};</span>
<a id="__codelineno-21-15" name="__codelineno-21-15"></a>
<a id="__codelineno-21-16" name="__codelineno-21-16"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-17" name="__codelineno-21-17"></a><span class="w">    </span><span class="n">Data</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<a id="__codelineno-21-18" name="__codelineno-21-18"></a><span class="w">    </span><span class="n">Wrapper</span><span class="w"> </span><span class="n">w</span><span class="p">(</span><span class="o">&amp;</span><span class="n">d</span><span class="p">);</span>
<a id="__codelineno-21-19" name="__codelineno-21-19"></a>
<a id="__codelineno-21-20" name="__codelineno-21-20"></a><span class="w">    </span><span class="c1">// 指向成员函数的函数指针</span>
<a id="__codelineno-21-21" name="__codelineno-21-21"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="n">Data</span><span class="o">::*</span><span class="n">funcPtr</span><span class="p">)()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">Data</span><span class="o">::</span><span class="n">hello</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-21-22" name="__codelineno-21-22"></a>
<a id="__codelineno-21-23" name="__codelineno-21-23"></a><span class="w">    </span><span class="c1">// 调用成员函数，等价于 d.hello();</span>
<a id="__codelineno-21-24" name="__codelineno-21-24"></a><span class="w">    </span><span class="p">(</span><span class="n">d</span><span class="p">.</span><span class="o">*</span><span class="n">funcPtr</span><span class="p">)();</span><span class="w"> </span>
<a id="__codelineno-21-25" name="__codelineno-21-25"></a>
<a id="__codelineno-21-26" name="__codelineno-21-26"></a><span class="w">    </span><span class="c1">// 实际等价于 (w.operator-&gt;())-&gt;*funcPtr;</span>
<a id="__codelineno-21-27" name="__codelineno-21-27"></a><span class="w">    </span><span class="c1">// 即 ptr-&gt;*funcPtr; 即 ptr-&gt;hello(); 即 d.hello();</span>
<a id="__codelineno-21-28" name="__codelineno-21-28"></a><span class="w">    </span><span class="n">w</span><span class="o">-&gt;*</span><span class="n">funcPtr</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-21-29" name="__codelineno-21-29"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-21-30" name="__codelineno-21-30"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ol start="3">
<li><code>.</code> 是成员访问运算符，<strong>不能被重载</strong>。</li>
<li><code>.*</code> 通过成员指针的成员访问运算符，<strong>不能被重载</strong>。</li>
</ol>
</li>
</ol>
</details>
<ul>
<li>双目运算符的左操作数是对象本身，右操作数是函数的参数</li>
<li>全局运算符需要访问私有成员时，要设置为友元</li>
</ul>
<p>运算符重载方式的选择</p>
<ul>
<li>单目运算符应该成为成员</li>
<li><code>=</code>、<code>[]</code>、<code>()</code>、<code>-&gt;</code>、<code>-&gt;*</code> 必须是成员</li>
<li>赋值运算符应该是成员</li>
<li>其他的双目运算符应该是非成员</li>
</ul>
<p>参数的传递</p>
<ul>
<li>若不会修改参数的值，应该传递 const 引用</li>
<li>如果不会修改类的状态，应该把成员函数声明为 const</li>
</ul>
<p>运算符及其对应的函数原型（用 <code>@</code> 表示任意运算符）</p>
<ul>
<li>
<p><code>+</code> <code>-</code> <code>*</code> <code>/</code> <code>%</code> <code>^</code> <code>&amp;</code> <code>|</code> <code>~</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="k">friend</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">l</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">r</span><span class="p">);</span><span class="w"> </span><span class="c1">// 全局友元函数</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">T</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">r</span><span class="p">);</span><span class="w"> </span><span class="c1">// 成员函数</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><code>!</code> <code>&amp;&amp;</code> <code>||</code> <code>&lt;</code> <code>&lt;=</code> <code>==</code> <code>&gt;=</code> <code>&gt;</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="k">friend</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">l</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">r</span><span class="p">);</span><span class="w"> </span><span class="c1">// 全局友元函数</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="kt">bool</span><span class="w"> </span><span class="n">T</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="err">@</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">r</span><span class="p">);</span><span class="w"> </span><span class="c1">// 成员函数</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code> <code>^=</code> <code>&amp;=</code> <code>|=</code> <code>&lt;&lt;=</code> <code>&gt;&gt;=</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="k">friend</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="err">@</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">l</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">r</span><span class="p">);</span><span class="w"> </span><span class="c1">// 全局友元函数</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">T</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="err">@</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">r</span><span class="p">);</span><span class="w"> </span><span class="c1">// 成员函数</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><code>=</code> 赋值运算符，只能是成员函数</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">r</span><span class="p">);</span><span class="w"> </span><span class="c1">// 成员函数</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>注意：如果类中有指针成员变量，必须在赋值时进行深拷贝，否则会导致浅拷贝的问题</li>
</ul>
</li>
<li>
<p><code>[]</code> 下标运算符，只能是成员函数</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="n">E</span><span class="o">&amp;</span><span class="w"> </span><span class="n">T</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">);</span><span class="w"> </span><span class="c1">// 参数也可以是 size_t 等其他类型</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><code>++</code> <code>--</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="p">();</span><span class="w">      </span><span class="c1">// prefix ++</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">++</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">);</span><span class="w">    </span><span class="c1">// postfix ++, int 用于区分前缀和后缀, 并无实际意义</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="p">();</span><span class="w">      </span><span class="c1">// prefix --</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">);</span><span class="w">    </span><span class="c1">// postfix --</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>流运算符重载 <code>&lt;&lt;</code> <code>&gt;&gt;</code>，由于第一个参数是流对象，所以必须是全局友元函数</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="n">ostream</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">ostream</span><span class="w"> </span><span class="o">&amp;</span><span class="n">os</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">obj</span><span class="p">);</span><span class="w"> </span><span class="c1">// 返回 os</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="n">istream</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">istream</span><span class="w"> </span><span class="o">&amp;</span><span class="n">is</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">&amp;</span><span class="n">obj</span><span class="p">);</span><span class="w">       </span><span class="c1">// 返回 is</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>类型转换运算符重载（如 <code>int()</code>、<code>double()</code> 等），可以让类的对象隐式转换为其他类型</p>
<ul>
<li>没有参数和返回类型，但可以有返回值</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="k">operator</span><span class="w"> </span><span class="n">Type</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"> </span><span class="c1">// 将类转换为 Type 类型</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p><code>-&gt;</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="n">R</span><span class="o">*</span><span class="w"> </span><span class="n">T</span><span class="o">::</span><span class="k">operator</span><span class="w"> </span><span class="o">-&gt;</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"> </span><span class="c1">// 返回一个指针</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>返回类型必须支持 <code>-&gt;</code> 运算符，即返回指针或智能指针等</li>
<li>
<p>如 <code>owner-&gt;func()</code> 的语义实际上是 <code>(owner.operator-&gt;())-&gt;func()</code></p>
<p><code>(owner.operator-&gt;())</code> 返回的是一个指针 <code>ptr</code>，最终得到的是 <code>ptr-&gt;func()</code></p>
</li>
</ul>
</li>
</ul>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-31-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-31-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-31-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-31-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-31-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-31-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-31-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-31-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-31-10">10</a></span>
<span class="normal"><a href="#__codelineno-31-11">11</a></span>
<span class="normal"><a href="#__codelineno-31-12">12</a></span>
<span class="normal"><a href="#__codelineno-31-13">13</a></span>
<span class="normal"><a href="#__codelineno-31-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a>
<a id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">Score</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">score</span><span class="p">;</span>
<a id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-31-6" name="__codelineno-31-6"></a><span class="w">    </span><span class="n">Score</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">score</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="w">    </span><span class="k">operator</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">score</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="p">};</span>
<a id="__codelineno-31-9" name="__codelineno-31-9"></a>
<a id="__codelineno-31-10" name="__codelineno-31-10"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-11" name="__codelineno-31-11"></a><span class="w">    </span><span class="n">Score</span><span class="w"> </span><span class="n">s</span><span class="p">{</span><span class="mi">100</span><span class="p">};</span>
<a id="__codelineno-31-12" name="__codelineno-31-12"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="c1">// 调用 operator int()</span>
<a id="__codelineno-31-13" name="__codelineno-31-13"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span><span class="w"> </span><span class="c1">// 输出 100</span>
<a id="__codelineno-31-14" name="__codelineno-31-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="admonition tip">
<p class="admonition-title">实现两个类之间的转换</p>
<p>如果我们想要实现两个类之间的转换，如 <code>A</code> 类转换为 <code>B</code> 类，有两种方法</p>
<ol>
<li>在 <code>B</code> 类中定义一个接受 <code>A</code> 类对象作为参数的的构造函数 <code>B(A a)</code></li>
<li>在 <code>A</code> 类中定义一个转换运算符 <code>operator B()</code>，使得 <code>A</code> 类对象可以隐式转换为 <code>B</code> 类对象</li>
</ol>
<p>但是不能两者兼有，否则编译器会不知道该使用哪一个（出现二义性）</p>
</div>
<h2 id="_20">其他<a class="headerlink" href="#_20" title="Permanent link">¶</a></h2>
<h3 id="_21">模板<a class="headerlink" href="#_21" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>在类模板中定义成员函数时不需要加 <code>template</code> 关键字，但在类模板外部定义时需要使用</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span>
<span class="normal"><a href="#__codelineno-32-4">4</a></span>
<span class="normal"><a href="#__codelineno-32-5">5</a></span>
<span class="normal"><a href="#__codelineno-32-6">6</a></span>
<span class="normal"><a href="#__codelineno-32-7">7</a></span>
<span class="normal"><a href="#__codelineno-32-8">8</a></span>
<span class="normal"><a href="#__codelineno-32-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="k">public</span><span class="o">:</span>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">func1</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">func2</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w"> </span><span class="c1">// 函数声明</span>
<a id="__codelineno-32-6" name="__codelineno-32-6"></a><span class="p">};</span>
<a id="__codelineno-32-7" name="__codelineno-32-7"></a>
<a id="__codelineno-32-8" name="__codelineno-32-8"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-32-9" name="__codelineno-32-9"></a><span class="kt">void</span><span class="w"> </span><span class="n">A</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">func2</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// 函数定义</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>模板参数可以有默认值，也可以是常量表达式</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span>
<span class="normal"><a href="#__codelineno-33-4">4</a></span>
<span class="normal"><a href="#__codelineno-33-5">5</a></span>
<span class="normal"><a href="#__codelineno-33-6">6</a></span>
<span class="normal"><a href="#__codelineno-33-7">7</a></span>
<span class="normal"><a href="#__codelineno-33-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">=</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="o">&gt;</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">FixedVector</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">elements</span><span class="p">[</span><span class="n">size</span><span class="p">];</span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><span class="p">}</span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="n">FixedVector</span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w">            </span><span class="c1">// T=int,    size=100</span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="n">FixedVector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w">      </span><span class="c1">// T=double, size=100</span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="n">FixedVector</span><span class="o">&lt;</span><span class="kt">float</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w">  </span><span class="c1">// T=float,  size=100</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>类模板的继承</p>
<ul>
<li>类模板可以继承自普通类</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1">1</a></span>
<span class="normal"><a href="#__codelineno-34-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>类模板可以继承自类模板</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1">1</a></span>
<span class="normal"><a href="#__codelineno-35-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">B</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul>
<li>普通类继承自<strong>模板类</strong>（注意不是<strong>类模板</strong>，是实例化后的类）</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">B</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">类模板与模板类</p>
<ul>
<li>类模板是一个<strong>模板</strong>，用于生成类的蓝图。它不是一个具体的类，而是一个可以<strong>根据不同类型参数实例化出不同类</strong>的模板。<ul>
<li>本身不能直接使用，必须通过实例化（提供具体类型）才能生成可用的类</li>
</ul>
</li>
<li>模板类是指<strong>通过类模板实例化后的具体类</strong>。它是一个<strong>已经填充了具体类型参数的类</strong>，可以直接使用。<ul>
<li>模板类是一个真正可用的类，可以用于创建类对象。</li>
</ul>
</li>
</ul>
</div>
<h3 id="_22">异常<a class="headerlink" href="#_22" title="Permanent link">¶</a></h3>
<ul>
<li>通过 throw 抛出异常，但 throw 可以抛出任何类型（例如自己定义的类等）</li>
<li>通常会通过 throw 抛出异常类实例</li>
<li>
<p>try-catch 语句</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span>
<span class="normal"><a href="#__codelineno-37-2">2</a></span>
<span class="normal"><a href="#__codelineno-37-3">3</a></span>
<span class="normal"><a href="#__codelineno-37-4">4</a></span>
<span class="normal"><a href="#__codelineno-37-5">5</a></span>
<span class="normal"><a href="#__codelineno-37-6">6</a></span>
<span class="normal"><a href="#__codelineno-37-7">7</a></span>
<span class="normal"><a href="#__codelineno-37-8">8</a></span>
<span class="normal"><a href="#__codelineno-37-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="w">    </span><span class="c1">// try 的块中有 throw 语句</span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">SomeError</span><span class="o">&amp;</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="w">    </span><span class="c1">// 捕获到该种异常后进行一些操作</span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">AnotherError</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a><span class="w">    </span><span class="c1">// 在 catch 语句中不使用异常的具体内容</span>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(...)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 注意这里括号内的 ... 表示接受任意类型的异常</span>
<a id="__codelineno-37-8" name="__codelineno-37-8"></a><span class="w">    </span><span class="c1">// 捕捉到上述异常之外的内容时进行相应操作</span>
<a id="__codelineno-37-9" name="__codelineno-37-9"></a><span class="p">}</span><span class="w"> </span>
</code></pre></div></td></tr></table></div>
<ul>
<li>也可以在 catch 块中继续使用 <code>throw;</code> 来把当前处理的异常重新抛出去，从而实现异常的向上传递</li>
</ul>
</li>
<li>
<p>标准库异常</p>
<ul>
<li><code>bad_alloc</code> <code>bad_cast</code> <code>bad_typeid</code> <code>bad_exception</code></li>
<li>runtime_error: <code>overflow_error</code> <code>range_error</code></li>
<li>logic_error: <code>domain_error</code> <code>length_error</code> <code>out_of_range</code> <code>invalid_argument</code></li>
</ul>
</li>
<li>
<p>使用 <code>new</code> 时出现异常</p>
<ul>
<li><code>A* p = new A();</code></li>
<li>首先为 p 申请一块内存，然后调用 A 的构造函数，但如果在调用构造函数的过程中出现了异常，这一块内存并不会被自动释放，导致内存泄漏</li>
<li>如果在分配内存的过程中失败，并不会像 C 中的 malloc 一样返回 0，会抛出 <code>bad_alloc</code> 异常</li>
</ul>
</li>
</ul>
<p>函数的异常声明</p>
<ul>
<li>
<p>在函数参数列表之后、函数体之前，用于声明当前函数可能会抛出哪些异常（暗示函数内部将会自行处理这些异常）</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1">1</a></span>
<span class="normal"><a href="#__codelineno-38-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a>// 有时也会在 throw 之前加上一个冒号 :
<a id="__codelineno-38-2" name="__codelineno-38-2"></a>void func(int a) throw (SomeError, AnotherError) { ... }
</code></pre></div></td></tr></table></div>
<ul>
<li><code>throw()</code> 表示不抛出任何异常，C++11 写为 <code>noexcept</code></li>
</ul>
</li>
<li>
<p>若在运行过程中抛出了非预期的异常，会抛出 unexpected 异常</p>
<ul>
<li>出现 unexpected 异常时会调用 <code>std::unexpected()</code> 函数</li>
<li>可以通过 <code>std::set_unexpected(handle)</code> 函数设置一个新的 unexpected 处理函数（handle 可以是自己定义的函数）</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-39-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-39-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-39-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-39-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-39-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-39-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-39-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-39-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-39-10">10</a></span>
<span class="normal"><a href="#__codelineno-39-11">11</a></span>
<span class="normal"><a href="#__codelineno-39-12">12</a></span>
<span class="normal"><a href="#__codelineno-39-13">13</a></span>
<span class="normal"><a href="#__codelineno-39-14">14</a></span>
<span class="normal"><a href="#__codelineno-39-15">15</a></span>
<span class="normal"><a href="#__codelineno-39-16">16</a></span>
<span class="normal"><a href="#__codelineno-39-17">17</a></span>
<span class="normal"><a href="#__codelineno-39-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;exception&gt;</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">my_handle</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"unexpected exception!</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="w">    </span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="p">}</span>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">()</span><span class="w"> </span><span class="k">throw</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="p">){</span>
<a id="__codelineno-39-7" name="__codelineno-39-7"></a><span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="n">Z</span><span class="p">();</span>
<a id="__codelineno-39-8" name="__codelineno-39-8"></a><span class="p">}</span>
<a id="__codelineno-39-9" name="__codelineno-39-9"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-10" name="__codelineno-39-10"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">set_unexpected</span><span class="p">(</span><span class="n">my_handle</span><span class="p">);</span>
<a id="__codelineno-39-11" name="__codelineno-39-11"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-12" name="__codelineno-39-12"></a><span class="w">        </span><span class="n">f</span><span class="p">();</span>
<a id="__codelineno-39-13" name="__codelineno-39-13"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(...)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-14" name="__codelineno-39-14"></a><span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"caught it!</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-39-15" name="__codelineno-39-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-39-16" name="__codelineno-39-16"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-39-17" name="__codelineno-39-17"></a><span class="p">}</span>
<a id="__codelineno-39-18" name="__codelineno-39-18"></a><span class="c1">// 最终的输出是 unexpected exception!</span>
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>如果函数没有进行任何异常声明，则表示可能抛出异常，也可能不抛出异常</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>抛出一个子类异常时，同样会被希望捕获父类异常的 catch 语句所捕获。</p>
<p>例如 std::out_of_range 是 std::logic_error 的子类，所以当我们抛出 std::out_of_range 异常时，可以被 std::logic_error 的 catch 语句捕获，因此下面的代码会输出 <code>caught logic_error!</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span>
<span class="normal"><a href="#__codelineno-40-2">2</a></span>
<span class="normal"><a href="#__codelineno-40-3">3</a></span>
<span class="normal"><a href="#__codelineno-40-4">4</a></span>
<span class="normal"><a href="#__codelineno-40-5">5</a></span>
<span class="normal"><a href="#__codelineno-40-6">6</a></span>
<span class="normal"><a href="#__codelineno-40-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a><span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">out_of_range</span><span class="p">(</span><span class="s">"out of range"</span><span class="p">);</span>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">logic_error</span><span class="o">&amp;</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// 在这里就被捕获了</span>
<a id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"caught logic_error!</span><span class="se">\n</span><span class="s">"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">out_of_range</span><span class="o">&amp;</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"caught exception!</span><span class="se">\n</span><span class="s">"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-40-7" name="__codelineno-40-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>因此，我们最好将子类异常的 catch 语句放在父类异常的 catch 语句之前。</p>
</div>
<h3 id="_23">流<a class="headerlink" href="#_23" title="Permanent link">¶</a></h3>
<ul>
<li><code>&lt;iostream&gt;</code>: <code>cin</code>, <code>cout</code>, <code>cerr</code>, <code>clog</code></li>
<li><code>&lt;fstream&gt;</code>: <code>ifstream</code>, <code>ofstream</code></li>
<li><code>&lt;sstream&gt;</code>: <code>istringstream</code>, <code>ostringstream</code></li>
</ul>
<h4 id="ostream">ostream<a class="headerlink" href="#ostream" title="Permanent link">¶</a></h4>
<ul>
<li><code>while ((ch = cin.get()) != EOF)</code></li>
<li><code>istream&amp; get(char&amp; ch)</code></li>
<li><code>istream&amp; get(char *buf, int limit, char delim = '\n')</code></li>
<li><code>istream&amp; getline(char *buf, int limit, char delim = '\n')</code><ul>
<li>通常使用自由函数版本，例如 <code>getline(cin, str)</code></li>
</ul>
</li>
<li><code>istream&amp; ignore(int limit = 1, int delim = EOF)</code></li>
<li><code>int gcount()</code> 返回最后一次读取的字符数</li>
<li><code>istream&amp; putback(char ch)</code> 将字符放回流中</li>
<li><code>istream&amp; peek()</code> 返回下一个字符但不从流中取出</li>
</ul>
<h4 id="ostream_1">ostream<a class="headerlink" href="#ostream_1" title="Permanent link">¶</a></h4>
<ul>
<li><code>ostream&amp; write(const char *buf, int size)</code></li>
<li><code>ostream&amp; flush()</code> 刷新缓冲区</li>
</ul>
<h4 id="manipulators">manipulators<a class="headerlink" href="#manipulators" title="Permanent link">¶</a></h4>
<table>
<thead>
<tr>
<th>Manipulator</th>
<th>effect</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr>
<td>dec, hex, oct</td>
<td>set numberic conversion</td>
<td>I,O</td>
</tr>
<tr>
<td>endl</td>
<td>insert new line and flush</td>
<td>O</td>
</tr>
<tr>
<td>flush</td>
<td>flush stream</td>
<td>O</td>
</tr>
<tr>
<td>setw(int)</td>
<td>set field width</td>
<td>I,O</td>
</tr>
<tr>
<td>setfill(char)</td>
<td>change fill character</td>
<td>I,O</td>
</tr>
<tr>
<td>setbase(int)</td>
<td>set number base</td>
<td>O</td>
</tr>
<tr>
<td>ws</td>
<td>skip whitespace</td>
<td>I</td>
</tr>
<tr>
<td>setprecision(int)</td>
<td>set floating point precision</td>
<td>O</td>
</tr>
</tbody>
</table>
<p>其他的操作符</p>
<ul>
<li>std::left, std::right, std::internal 左、右、居中对齐，一般与 setw() 一起使用</li>
<li>std::boolalpha 用 cout 输出 bool 类型时为 true/false，而非 1/0</li>
<li>std::showbase 显示数值的基数（0x, 0, 0b）</li>
<li>std::uppercase, std::nouppercase 大写、小写</li>
</ul>
<h4 id="_24">流状态<a class="headerlink" href="#_24" title="Permanent link">¶</a></h4>
<ul>
<li>eof 文件尾，fail 格式错误，bad 文件损坏/数据丢失，good 正常</li>
<li>可使用 clear() 函数清除流状态</li>
<li>可以使用 <code>stream.fail()</code> 来判断流是否处于 fail 状态，good(), bad(), eof() 同理</li>
</ul>
<h4 id="_25">文件流<a class="headerlink" href="#_25" title="Permanent link">¶</a></h4>
<p>在打开文件时可以指定模式 flag</p>
<ul>
<li>ios::app 以追加模式打开文件</li>
<li>ios::ate 打开文件后定位到文件末尾</li>
<li>ios::binary 以二进制模式打开文件</li>
<li>ios::in 读，ios::out 写，ios::binary 二进制</li>
<li>
<p>ios::nocreate 文件已存在时不创建，ios::noreplace 文件已存在时不覆盖</p>
</li>
<li>
<p>示例</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1">1</a></span>
<span class="normal"><a href="#__codelineno-41-2">2</a></span>
<span class="normal"><a href="#__codelineno-41-3">3</a></span>
<span class="normal"><a href="#__codelineno-41-4">4</a></span>
<span class="normal"><a href="#__codelineno-41-5">5</a></span>
<span class="normal"><a href="#__codelineno-41-6">6</a></span>
<span class="normal"><a href="#__codelineno-41-7">7</a></span>
<span class="normal"><a href="#__codelineno-41-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="n">ofstream</span><span class="w"> </span><span class="n">fout</span><span class="p">(</span><span class="s">"file.txt"</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">out</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">app</span><span class="p">);</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="n">fout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">"Hello"</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="n">fout</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a>
<a id="__codelineno-41-5" name="__codelineno-41-5"></a><span class="n">ifstream</span><span class="w"> </span><span class="n">fin</span><span class="p">(</span><span class="s">"file.txt"</span><span class="p">);</span>
<a id="__codelineno-41-6" name="__codelineno-41-6"></a>
<a id="__codelineno-41-7" name="__codelineno-41-7"></a><span class="n">ifstream</span><span class="w"> </span><span class="n">input</span><span class="p">;</span>
<a id="__codelineno-41-8" name="__codelineno-41-8"></a><span class="n">input</span><span class="p">.</span><span class="n">open</span><span class="p">(</span><span class="s">"file.txt"</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">in</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
<h3 id="cast">cast<a class="headerlink" href="#cast" title="Permanent link">¶</a></h3>
<ul>
<li>
<p>static_cast 用于在相关类型之间进行强制类型转换</p>
<ul>
<li>基本类型之间的转换（如 int 到 double）</li>
<li>类层次结构中，父类指针/引用和子类指针/引用之间的转换</li>
<li>将 void 指针转换为目标类型指针</li>
</ul>
</li>
<li>
<p>dynamic_cast 主要用于多态类型的转换，可以在运行时检查类型安全。常用于将父类指针/引用转换为子类指针/引用（down-cast）</p>
<ul>
<li>如果转换失败，返回 nullptr（指针）或抛出异常（引用）</li>
</ul>
</li>
<li>
<p>const_cast 用于去除 const、volatile 属性.</p>
<ul>
<li>例如可以去除 const 限定符，使得可以修改 const 对象</li>
</ul>
</li>
<li>
<p>reinterpret_cast 用于进行低级别的、几乎没有类型检查的转换。它进行的转换非常危险，因为可能破坏数据的完整性</p>
<ul>
<li>通常用于指针之间的转换，不会进行类型检查</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1">1</a></span>
<span class="normal"><a href="#__codelineno-42-2">2</a></span>
<span class="normal"><a href="#__codelineno-42-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">a</span><span class="p">;</span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">p</span><span class="p">);</span><span class="w"> </span><span class="c1">// 将 int* 转换为 char*</span>
</code></pre></div></td></tr></table></div>
</li>
</ul>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="Last update">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2025年10月8日 17:57:05 CST">2025年10月8日</span>
</span>
<span class="md-source-file__fact">
<span class="md-icon" title="Created">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="2025年10月8日 17:57:05 CST">2025年10月8日</span>
</span>
</aside>
<form class="md-feedback" hidden="" name="feedback">
<fieldset>
<legend class="md-feedback__title">
        Was this page helpful?
      </legend>
<div class="md-feedback__inner">
<div class="md-feedback__list">
<button class="md-feedback__icon md-icon" data-md-value="1" title="This page was helpful" type="submit">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"></path></svg>
</button>
<button class="md-feedback__icon md-icon" data-md-value="0" title="This page could be improved" type="submit">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"></path></svg>
</button>
</div>
<div class="md-feedback__note">
<div data-md-value="1" hidden="">
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
<div data-md-value="0" hidden="">
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help me improve this page by using our <a href="https://github.com/xestray/xestray.github.io/issues" rel="noopener" target="_blank">feedback form</a>.
            </div>
</div>
</div>
</fieldset>
</form>
<h2 id="__comments">Comments</h2>
<script async="" crossorigin="anonymous" data-category="Announcements" data-category-id="DIC_kwDOMQYCss4Cghqg" data-emit-metadata="0" data-input-position="bottom" data-lang="zh-CN" data-mapping="pathname" data-reactions-enabled="1" data-repo="xestray/xestray.github.io" data-repo-id="R_kgDOMQYCsg" data-strict="0" data-theme="preferred_color_scheme" src="https://giscus.app/client.js">
</script>
<!-- Synchronize Giscus theme with palette -->
<script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: 数据库恢复" class="md-footer__link md-footer__link--prev" href="../DB/lec-13/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 256 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                数据库恢复
              </div>
</div>
</a>
<a aria-label="Next: 计算机视觉" class="md-footer__link md-footer__link--next" href="../CV/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                计算机视觉
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 256 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2025 <a href="https://github.com/xestray" target="_blank">xestray</a>
</div>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.path", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": {"Default": "default-tag", "Hardware": "hardware-tag", "Software": "software-tag"}, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
<script src="../../js/print-site.js"></script>
<script src="../../javascripts/katex.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
<script src="../../javascripts/toc.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
window.mermaidConfig = {default: {
    startOnLoad: false
}};</script></body>
</html>